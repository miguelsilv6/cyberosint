# -----------------------------
# GLOBAL
# -----------------------------
APP_ENV=local
APP_NAME=forensic-osint-platform
APP_VERSION=0.1.0
TZ=Europe/Lisbon

# -----------------------------
# API (NestJS)
# -----------------------------
API_HOST=0.0.0.0
API_PORT=3000
API_BASE_URL=http://localhost:3000
API_CORS_ORIGINS=http://localhost:5173
API_LOG_LEVEL=info
API_REQUEST_TIMEOUT_MS=30000

# -----------------------------
# WEB (React + Vite)
# -----------------------------
WEB_HOST=0.0.0.0
WEB_PORT=5173
VITE_API_BASE_URL=http://localhost:3000

# -----------------------------
# AUTH / SECURITY
# -----------------------------
JWT_SECRET=CHANGE_ME_DEV_ONLY_SUPER_LONG_RANDOM
JWT_EXPIRES_IN=8h
PASSWORD_SALT_ROUNDS=12
SEED_ADMIN_EMAIL=admin@local
SEED_ADMIN_PASSWORD=admin123
SEED_ADMIN_ROLE=admin

# -----------------------------
# POSTGRES
# -----------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=forensic_osint
POSTGRES_USER=forensic
POSTGRES_PASSWORD=forensic_password_change_me
DATABASE_URL=postgresql://forensic:forensic_password_change_me@postgres:5432/forensic_osint?schema=public

# -----------------------------
# PRISMA
# -----------------------------
PRISMA_MIGRATE_ON_START=true

# -----------------------------
# NEO4J
# -----------------------------
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j_password_change_me
NEO4J_DATABASE=neo4j

# -----------------------------
# MINIO (S3)
# -----------------------------
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin_change_me
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin_change_me
S3_REGION=us-east-1
S3_USE_SSL=false
S3_BUCKET_EVIDENCE=evidence
S3_BUCKET_REPORTS=reports
S3_PUBLIC_BASE_URL=http://localhost:9000
S3_PREFIX_RAW=raw
S3_PREFIX_NORMALIZED=normalized
S3_PREFIX_REPORTS=reports
S3_PRESIGN_EXPIRES_SECONDS=900

# -----------------------------
# REDIS / JOBS (BullMQ)
# -----------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
BULLMQ_QUEUE_INGEST=ingest
BULLMQ_QUEUE_NORMALIZE=normalize
BULLMQ_QUEUE_ENRICH=enrich
BULLMQ_QUEUE_REPORT=report
JOB_CONCURRENCY=2

# -----------------------------
# OLLAMA (LOCAL ONLY)
# -----------------------------
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=llama3:8b
OLLAMA_TEMPERATURE=0.2
OLLAMA_TOP_P=0.9
OLLAMA_MAX_TOKENS=2048
OLLAMA_TIMEOUT_MS=60000

# -----------------------------
# INGEST LIMITS / SAFETY
# -----------------------------
INGEST_MAX_BYTES=5242880
INGEST_ALLOWED_PROTOCOLS=http,https
INGEST_FETCH_TIMEOUT_MS=15000
INGEST_MAX_REDIRECTS=5
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=120

# -----------------------------
# REPORTS
# -----------------------------
REPORT_TEMPLATE=default
REPORT_LANGUAGE=pt-PT

# -----------------------------
# FEATURE FLAGS (MVP)
# -----------------------------
FEATURE_GRAPH=true
FEATURE_LLM=true
FEATURE_REPORTS=true
